<html>
    <head>
        <title>Página de registro</title>
        <meta charset ="utf-8"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
    </head>
    <body>
        
        <div class="container">
            <form method="POST" action="/reg-procesa" class="col-4 offset-md-4"
            oninput='repetirContrasena.setCustomValidity(repetirContrasena.value != contrasena.value ? "Passwords do not match." : "")'>
                <div class="form-floating mb-3">
                    <input type="text" name="nombre" id="nombre" class="form-control" placeholder="nombre" required>
                    <label for="nombre">Nombre</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="text" name="apellidos" id="apellidos" class="form-control" placeholder="apellidos" required>
                    <label for="apellidos">Apellidos</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="text" name="genero" id="genero" class="form-control" placeholder="genero" required>
                    <label for="genero">Género</label>
                </div>
                <div class="mb-3">
                    <select onchange="campoCedula()"  class="form-control form-select" id="rol" name="rol" required>
                    <option selected>Seleciona tu rol</option>
                    <option value="medico" >Médico</option>
                    <option value="administrador">Administrador</option>
                    </select>
                </div> 
                <div class="form-floating mb-3">
                    <input type="text" name="cedula" id="cedula" class="form-control" placeholder="cedula"  hidden>
                    <label for="cedula">Cedula</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="email" name="correoElectronico" id="correoElectronico" class="form-control" placeholder="correoElectronico" required>
                    <label for="correoElectronico">Correo electrónico</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="password" name="contrasena" id="contrasena" class="form-control" placeholder="contrasena" required>
                    <label for="contrasena">Contraseña</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="password" name="repetirContrasena" id="repetirContrasena" class="form-control" placeholder="repetirContrasena" required>
                    <label for="repetirContrasena">Repetir contraseña</label>
                </div>
                <div class="mb-3 d-grid gap-2">
                    <input type="submit" class="btn btn-info" value="Enviar datos" class="form-control" required>
                </div>
            </form>
            
        </div>
        <script>
            function campoCedula(){
                if(document.getElementById('rol').value=="medico"){
                    
                    document.getElementById('cedula').removeAttribute('hidden');
                    document.getElementById('cedula').setAttribute("required","")

                }
                else{
                    document.getElementById('cedula').removeAttribute('required');
                    document.getElementById('cedula').setAttribute("hidden","")
                }
                
            }
        </script>

    </body>
</html>
